defaults:
    primaryKey: ["DW_Rowid"]
    updateKey: "DW_Rowid"
    chunkSize: 100000
    # "csv", "csv.gz", or "parquet"
    stagingFileFormat: "csv.gz"
    # stagingFileFormat: "parquet"
    # stagingFileFormat: "csv"
    targetTable: "{stream_table}"
    sourceSql: "SELECT * FROM dbo.{stream_table} WHERE DW_Rowid <= 1510000"

streams:
  M3_MITMAS:
    #ExcludeColumns: ["DW_Version"]
    delete_detection:
      type: subset
      where: DW_InsertDateTime > dateadd(year, -1, getdate())
  M3_CFACIL:
    updateKey: DW_InsertDateTime
    chunkSize: 1y
  
